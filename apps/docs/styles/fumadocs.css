/* ===== Full-Width Page Layout ===== */

@media (min-width: 1280px) {
  #nd-page[data-full="true"] {
    max-width: 70%;
    justify-self: center;
  }
}

#nd-page[data-full="true"] ~ #nd-toc {
  justify-self: start;
}

/* ===== Main Content ===== */

#nd-page {
  padding-inline: 1rem !important;
  padding-top: 1.5rem !important;
  padding-bottom: 1.5rem !important;
}

@media (min-width: 768px) {
  #nd-page {
    padding-top: 4rem !important;
  }
}

/* ===== Sidebar (Desktop & Mobile) ===== */

#nd-sidebar {
  --fd-background: transparent;
  background: transparent !important;
  border-inline-end: none !important;
}

#nd-sidebar a,
#nd-sidebar button,
#nd-sidebar-mobile a,
#nd-sidebar-mobile button {
  padding-block: 0.375rem !important;
  padding-inline-end: 0.625rem !important;
  border-radius: 0.375rem !important;
  font-size: 0.875rem !important;
  background: transparent !important;
  transition: color 0.15s ease, background-color 0.15s ease !important;
}

#nd-sidebar a:hover,
#nd-sidebar button:hover,
#nd-sidebar-mobile a:hover,
#nd-sidebar-mobile button:hover {
  color: var(--fd-foreground) !important;
  background: var(--fd-accent) !important;
}

#nd-sidebar a[data-active="true"],
#nd-sidebar-mobile a[data-active="true"] {
  color: var(--fd-foreground) !important;
  font-weight: 500 !important;
  background: var(--fd-accent) !important;
}

#nd-sidebar a[data-active="true"]::before,
#nd-sidebar-mobile a[data-active="true"]::before {
  display: none !important;
}

#nd-sidebar [class*="before:bg-fd-border"] {
  --tw-border-opacity: 0.4;
}

/* Section headings */
#nd-sidebar p,
#nd-sidebar-mobile p {
  margin-top: 1.25rem !important;
  margin-bottom: 0.375rem !important;
  padding-inline-start: 0.625rem !important;
  font-size: 0.6875rem !important;
  font-weight: 600 !important;
  letter-spacing: 0.04em !important;
  text-transform: uppercase !important;
  color: var(--fd-muted-foreground) !important;
  opacity: 0.6;
}

#nd-sidebar p:first-of-type,
#nd-sidebar-mobile p:first-of-type {
  margin-top: 0 !important;
}

/* Icons */
#nd-sidebar svg,
#nd-sidebar-mobile svg {
  width: 1rem !important;
  height: 1rem !important;
  opacity: 0.7;
  flex-shrink: 0;
}

#nd-sidebar svg[data-icon],
#nd-sidebar-mobile svg[data-icon] {
  width: 0.875rem !important;
  height: 0.875rem !important;
}

/* Border removal */
#nd-sidebar .border-t,
#nd-sidebar-mobile .border-t {
  border-top: none !important;
}

/* ===== Sub-navigation ===== */

#nd-subnav {
  border-bottom: none !important;
  padding-inline: 1rem !important;
}

/* ===== Table of Contents Popover ===== */

[data-toc-popover] {
  width: 100vw !important;
  margin-inline-start: calc(-1 * var(--fd-sidebar-width, 0px)) !important;
  left: 0 !important;
}

[data-toc-popover] header {
  border-bottom: none !important;
  background: var(--fd-background) !important;
}

[data-toc-popover-trigger],
[data-toc-popover-content] {
  padding-inline: 1rem !important;
}

@media (min-width: 768px) {
  [data-toc-popover-trigger],
  [data-toc-popover-content] {
    padding-inline: 1.5rem !important;
  }
}

[data-toc-popover-trigger] {
  color: var(--fd-muted-foreground) !important;
  font-size: 0.875rem !important;
}

[data-toc-popover-trigger] svg[role="progressbar"] {
  display: none !important;
}
